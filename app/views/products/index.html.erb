<% provide(:title, "Products") %>
<% breadcrumb :products, @products %>
  <div class="panel-body panel-table">
    <% if @products.length == 0 %>
      <p class="empty_list">
        <%= "De lijst is leeg" %>
      </p>
    <% else %>
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th class="small-col">Id</th>
              <th>Brand</th>
              <th>Model</th>
              <th>Model extended</th>
              <th>Type</th>
              <th>Part number</th>
              <th class="small-col"></th>
              <% if logged_in? && current_user.manager? %>
                <th class="small-col"></th>
                <th class="small-col"></th>
              <% end %>
            </tr>
          </thead>
          <tbody>
            <% @products.each do |product| %>
              <tr>
                <td><%= product.id %></td>
                <td><%= product.brand %></td>
                <td><%= product.model %></td>
                <td><%= product.model_extended %></td>
                <td><%= product.type_number %></td>
                <td><%= product.partnumber %></td>
                  <td>
                    <%= link_to device_product_categories_path(params[:device_id], product) do %>
                      <span class="glyphicon glyphicon-search" title="Show"></span>
                    <% end %>
                  </td>
                <% if logged_in? && current_user.manager? %>
                  <td>
                    <%= link_to edit_device_product_path(params[:device_id], product) do %>
                      <span class="glyphicon glyphicon-pencil" title="Edit"></span>
                    <% end %>
                  </td>
                  <td>
                    <%= link_to(device_product_path(params[:device_id], product), :data => { :confirm => "Are you sure?" }, :method => :delete) do %>
                      <span class="glyphicon glyphicon-remove" title="Delete"></span>
                    <% end %>
                  </td>
                <% end %>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% end %>
  </div>
  <div class="panel-footer">
  <% if logged_in? && current_user.manager? %>
      <%= link_to("Add product", new_device_product_path, :class => 'btn btn-mini btn-primary') %>
    <% end %>
  </div>
